# 2.2 基础光照

Phong 模型，理论上没啥难的，主要是 OpenGL 的使用。

shader 里 uniform 变量的可见性只是局限在各个 shader 里，并不能跨 shader 传递。

有的时候会出现把顶点数据传入 vertex shader，不做处理，再传给 fragment shader 使用的情况，名副其实的“管线”。

有点数学东西的是法向量矩阵的推导，用来解决旋转等变换导致法向量不再垂直的问题。一点点线代知识。

Phong 模型的三种光照在结果中是加和的。specular 的计算比较繁琐，要计算反射光线与视线方向的夹角，可以使用入射光和视线方向的半向量与法线的夹角代替。

目前的“光源”其实就是一个位置和一个颜色，画出来的白色方块只是用来可视化的，并不会影响物体颜色，物体的颜色还是在它自己的 fragment shader 里算出来的。

注意我们还没有考虑遮挡，所以光照看起来会有点怪：箱子不会留下阴影。
